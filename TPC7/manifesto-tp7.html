<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>
                    table {
                        width: 100%;
                    }
                    td {
                        width: 50%;
                    }
                    .col {
                        column-count: 2;
                    }
                </style></head>
   <body>
      <h1 align="center">Manifesto</h1>
      <hr>
      
      <div class="col">
         <b>Identificador: </b>PRC1819_MIEI_TPC7<br>
         <b>Título: </b>Normalizar dados recebidos pelo GraphDB<br>
         <b>Subtítulo: </b>Relatório relativo ao setimo trabalho de casa da cadeira de PRC<br>
         <b>Data de Início: </b>20 Abril 2019<br>
         <b>Data de Conclusão: </b>29 Abril 2019<br>
         <b>Supervisor: </b><a href="http://www.di.uminho.pt/~jcr/">José Carlos Ramalho</a> : <a href="mailto:jcr@di.uminho.pt">✉</a><br>
         
      </div>
      <hr>
      
      <hr>
      <h3>Equipe:</h3>
      <table>
         <ul>
            
            <tr>
               <td>
                  <li><a href="https://www.facebook.com/alexandremorangoteixeira">Alexandre Teixeira</a> (a73547) : 
                     <a href="mailto:a73547@alunos.uminho.pt">✉</a></li>
               </td>
            </tr>
            
         </ul>
      </table>
      <hr>
      
      <hr>
      <h3>Resumo:</h3>
      <p>Foi necessário modificar a função <b>execQuery</b>, presente no controlador <b>cinema.js</b>, de forma a normalizar os dados.</p>
      <p>Para isso, foi necessário verificar <b>.head.vars</b> de forma a identificar as variavéis presentes na resposta do GraphDB</p>
      <p>De seguida, foi necessário iterar as <b>bindings</b> de forma a encontrar as variáveis encontradas anteriormente </p>
      <hr>
      <p> Codigo Adicionado <P>
      <xmp>
         ...
         var vars = response.data.head.vars
         var res = response.data.results.bindings;
         var jsonList = [];
         for(i in res) {
            var json = {}
            for(j in vars) {
                json[vars[j]] = res[i][vars[j]].value;
            }
            jsonList.push(json);
         }
         return(jsonList)
      </xmp>
      </hr>
      <hr>
      
      <hr>
      <h3>Resultados:</h3>
      <ul>
         <li><a href="https://github.com/anguinho/A73547PRC2019/tree/master/TPC7">Pasta com o conteudo relativo ao TPC7 </a></li>         
      </ul>
      <hr>
      
   </body>
</html>